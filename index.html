<!doctype html>
<html>

<head>
  <meta charset='utf-8'>
  <title>ezappx-plugin-es</title>
  <link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/grapesjs@0.14.40/dist/css/grapes.min.css'>
  <link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css'>

  <script src="https://cdn.jsdelivr.net/npm/grapesjs@0.14.40/dist/grapes.min.js"></script>
  <script src='https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js'></script>
  <script src='https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js'></script>
  <script src='https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js'></script>
  <script src='https://cdn.jsdelivr.net/npm/sockjs-client@1.3.0/dist/sockjs.min.js'></script>
  <script src='https://cdn.jsdelivr.net/npm/stomp-websocket@2.3.4-next/lib/stomp.min.js'></script>
  <script src="https://cdn.jsdelivr.net/npm/ezappx-plugin-toolbar@0.0.25/dist/ezappx-plugin-toolbar.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/ezappx-plugin-f7@0.0.10/dist/ezappx-plugin-f7.min.js"></script>
  <script src='dist/ezappx-plugin-es.min.js'></script>
  <style>
    body,html {
        height: 100%;
        margin: 0;
      }
  </style>
</head>

<body>

  <div id='gjs' style='height:0px; overflow:hidden'></div>
  <div id='tip'></div>

  <script type='text/javascript'>
    var editor = grapesjs.init({
      height: '100%',
      showOffsets: 1,
      noticeOnUnload: 0,
      // Default configurations
      storageManager: {
        id: 'gjs-',             // Prefix identifier that will be used on parameters
        type: 'local',          // Type of the storage
        autosave: true,         // Store data automatically
        autoload: true,         // Autoload stored data on init
        stepsBeforeSave: 1,     // If autosave enabled, indicates how many changes are necessary before store method is triggered
      },
      container: '#gjs',
      fromElement: true,

      plugins: [
        'ezappx-plugin-toolbar',
        'ezappx-plugin-f7',
        'ezappx-plugin-es',
      ],

      pluginsOpts: {
        'ezappx-plugin-toolbar': {
          tipDivId: 'tip',
        },

        'ezappx-plugin-es': {
          foo: 'bar'
        }
      },

      canvas: {
        styles: [
          'https://cdn.jsdelivr.net/npm/framework7@3.4.2/css/framework7.min.css'
        ],
        scripts: [
          'https://cdn.jsdelivr.net/npm/framework7@3.4.2/js/framework7.min.js',
          'https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js',
          'https://cdn.jsdelivr.net/npm/sockjs-client@1.3.0/dist/sockjs.min.js',
          'https://cdn.jsdelivr.net/npm/stomp-websocket@2.3.4-next/lib/stomp.min.js'],
      },

      deviceManager: {
        devices: [],
      },
    });
    editor.runCommand('set-device-android');
    window.editor = editor;
  </script>
</body>

</html>
/*! ezappx-plugin-ajaxdemo - 0.0.8 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["ezappx-plugin-ajaxdemo"]=t():e["ezappx-plugin-ajaxdemo"]=t()}(window,function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.EZAPPX_COMPONENT_TYPE="ezappx-component-type"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=i(n(2)),a=i(n(3));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=o({},t);(0,r.default)(e,n),(0,a.default)(e,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=n(0);t.default=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=e.DomComponents,n=t.getType("default"),a=n.model,i=n.view;t.addType("defualtContent",{model:a.extend({defaults:o({},a.prototype.defaults,{traits:[{type:"content",label:"Text",name:"text"},{type:"text",label:"Id",name:"id"}]})}),view:i});var u=t.getType("defualtContent"),l=u.model,s=u.view;t.addType("ajax-button",{model:l.extend({defaults:o({},l.prototype.defaults,{script:function(){$(this).click(function(e){console.log($(e.target).attr("request-type")+" "+$(e.target).attr("target-url")),$.ajax({url:$(e.target).attr("target-url"),type:$(e.target).attr("request-type"),timeout:3e3,contentType:"application/json;",dataType:"json",crossDomain:!0,success:function(e){alert("Ezappx builder server memory status: \n"+JSON.stringify(e))},error:function(e,t,n){console.error(e)}})})},traits:l.prototype.defaults.traits.concat([{type:"class",label:"Style",name:"class",options:[{value:"",name:"Default"},{value:"button-fill",name:"Fill"},{value:"button-raised",name:"Raised"}]},{type:"text",label:"Target url",name:"target-url"},{type:"text",label:"Target div",name:"target-div"},{type:"select",label:"Reqeust type",name:"request-type",options:[{value:"GET",name:"GET"},{value:"POST",name:"POST"}]}])})},{isComponent:function(e){if("ajax-button"==$(e).attr(r.EZAPPX_COMPONENT_TYPE))return{type:"ajax-button"}}}),view:s.extend({init:function(){this.model.setAttributes({class:"col button","target-div":"Id","target-url":"http://10.109.252.77:8800/","request-type":"GET"})}})}),t.addType("push-service",{model:a.extend({defaults:o({},a.prototype.defaults,{traits:["Server","Channel"],script:function(){console.log(this);var e=$(this),t=e.attr("Server"),n=e.attr("Channel"),o=new SockJS(t);stompClient=Stomp.over(o),stompClient.connect({Origin:"test"},function(e){console.log("Connected: "+e),stompClient.subscribe(n,function(e){app.notification.create({icon:'<i class="icon demo-icon"></i>',title:"Ezappx",titleRightText:"now",subtitle:"Received msg: "+JSON.parse(e.body).content,text:"created at ("+JSON.parse(e.body).createAt+")",closeTimeout:3e3}).open()})})}})},{isComponent:function(e){if("push-service"==$(e).attr(r.EZAPPX_COMPONENT_TYPE))return{type:"push-service"}}}),view:n.view.extend({init:function(){this.model.setAttributes({Server:"http://push.ezappx.com/gs-guide-websocket",Channel:"/topic/greetings"})}})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);t.default=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=e.BlockManager;t.add("ajax-button",{label:"Button",attributes:{class:"fa fa-square"},category:"Ajax",content:"\n            <button "+o.EZAPPX_COMPONENT_TYPE+"='ajax-button'>Button</button>\n            "}),t.add("push-service",{label:"Push Service",attributes:{class:"fa fa-debug"},category:"Push Service",content:{type:"push-service",style:{width:"100%",height:"50px"}}})}}])});
//# sourceMappingURL=ezappx-plugin-ajaxdemo.min.js.map